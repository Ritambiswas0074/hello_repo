{
  "info": {
    "name": "FeatureMe API",
    "description": "Complete API collection for FeatureMe Billboard Platform",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/health",
          "host": ["{{base_url}}"],
          "path": ["health"]
        }
      }
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set(\"access_token\", jsonData.accessToken);",
                  "    pm.environment.set(\"user_id\", jsonData.user.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set(\"access_token\", jsonData.accessToken);",
                  "    pm.environment.set(\"user_id\", jsonData.user.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "me"]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"your-refresh-token\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/refresh",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "refresh"]
            }
          }
        }
      ]
    },
    {
      "name": "Locations",
      "item": [
        {
          "name": "Get All Locations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/locations?isActive=true",
              "host": ["{{base_url}}"],
              "path": ["api", "locations"],
              "query": [
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            }
          }
        },
        {
          "name": "Get Location by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/locations/loc-1",
              "host": ["{{base_url}}"],
              "path": ["api", "locations", "loc-1"]
            }
          }
        }
      ]
    },
    {
      "name": "Templates",
      "item": [
        {
          "name": "Get All Templates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/templates?isActive=true",
              "host": ["{{base_url}}"],
              "path": ["api", "templates"],
              "query": [
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            }
          }
        },
        {
          "name": "Get Template by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/templates/tpl-1",
              "host": ["{{base_url}}"],
              "path": ["api", "templates", "tpl-1"]
            }
          }
        }
      ]
    },
    {
      "name": "Plans",
      "item": [
        {
          "name": "Get All Plans",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/plans?isActive=true",
              "host": ["{{base_url}}"],
              "path": ["api", "plans"],
              "query": [
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            }
          }
        },
        {
          "name": "Get Plan by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/plans/plan-1",
              "host": ["{{base_url}}"],
              "path": ["api", "plans", "plan-1"]
            }
          }
        }
      ]
    },
    {
      "name": "Schedule",
      "item": [
        {
          "name": "Check Availability",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/schedule/availability?locationId=loc-1&date=2024-12-25T00:00:00Z",
              "host": ["{{base_url}}"],
              "path": ["api", "schedule", "availability"],
              "query": [
                {
                  "key": "locationId",
                  "value": "loc-1"
                },
                {
                  "key": "date",
                  "value": "2024-12-25T00:00:00Z"
                }
              ]
            }
          }
        },
        {
          "name": "Create Schedule",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"locationId\": \"loc-1\",\n  \"date\": \"2024-12-25T00:00:00Z\",\n  \"startTime\": \"2024-12-25T09:00:00Z\",\n  \"endTime\": \"2024-12-25T17:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/schedule",
              "host": ["{{base_url}}"],
              "path": ["api", "schedule"]
            }
          }
        },
        {
          "name": "Get User Schedules",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/schedule/user",
              "host": ["{{base_url}}"],
              "path": ["api", "schedule", "user"]
            }
          }
        }
      ]
    },
    {
      "name": "Upload",
      "item": [
        {
          "name": "Upload Media",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/upload",
              "host": ["{{base_url}}"],
              "path": ["api", "upload"]
            }
          }
        },
        {
          "name": "Get User Media",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/upload/user",
              "host": ["{{base_url}}"],
              "path": ["api", "upload", "user"]
            }
          }
        },
        {
          "name": "Delete Media",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/upload/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "upload", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "media-id-here"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Bookings",
      "item": [
        {
          "name": "Create Booking",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set(\"booking_id\", jsonData.booking.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"locationId\": \"loc-1\",\n  \"scheduleId\": \"schedule-id-here\",\n  \"mediaId\": \"media-id-here\",\n  \"templateId\": \"tpl-1\",\n  \"planId\": \"plan-1\",\n  \"notes\": \"Test booking\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/bookings",
              "host": ["{{base_url}}"],
              "path": ["api", "bookings"]
            }
          }
        },
        {
          "name": "Get User Bookings",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/bookings/user",
              "host": ["{{base_url}}"],
              "path": ["api", "bookings", "user"]
            }
          }
        },
        {
          "name": "Get Booking by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/bookings/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "bookings", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "{{booking_id}}"
                }
              ]
            }
          }
        },
        {
          "name": "Update Booking Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"ACTIVE\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/bookings/:id/status",
              "host": ["{{base_url}}"],
              "path": ["api", "bookings", ":id", "status"],
              "variable": [
                {
                  "key": "id",
                  "value": "{{booking_id}}"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "Create Payment Intent",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookingId\": \"{{booking_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payments/create-intent",
              "host": ["{{base_url}}"],
              "path": ["api", "payments", "create-intent"]
            }
          }
        },
        {
          "name": "Get Payment Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/payments/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "payments", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "payment-id-here"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Dashboard",
      "item": [
        {
          "name": "Get Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/user/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "user", "dashboard"]
            }
          }
        }
      ]
    },
    {
      "name": "WhatsApp",
      "item": [
        {
          "name": "Get WhatsApp Contact",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/whatsapp/contact?message=Hello",
              "host": ["{{base_url}}"],
              "path": ["api", "whatsapp", "contact"],
              "query": [
                {
                  "key": "message",
                  "value": "Hello"
                }
              ]
            }
          }
        }
      ]
    }
  ]
}

